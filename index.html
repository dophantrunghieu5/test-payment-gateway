<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Test Payment Gateway</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>
    <div id="text">
        Test3
        Simulating payment gateway webpage. 
        <br/>
        Order Number: <span id="order"></span>
        <br/>
        Payment successfully, redirecting back to app in <span id="counting">10</span>s ...
    </div>
    <script>        
        const MAX_COUNTING = 10;
        let count = MAX_COUNTING;
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const orderId = urlParams.get('order_id');
        document.querySelector('#order').innerHTML = orderId;

        setInterval(() => {
            count--;
            if(count < 0) count = 0;

            document.querySelector('#counting').innerHTML = count;

            if(count === 0) {
                //window.location.replace("eatizenmkp://");
                //window.replac(`eatizenmkp://order/status/${orderId}`);
                window.location.href = `eatizenmkp://order/status/${orderId}`;
            }
        }, 1000);
    </script>
</body>
</html>