<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Test Payment Gateway</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>
    <div id="text">
        Test4
        Simulating payment gateway webpage. 
        <br/>
        Order Number: <span id="order"></span>
        <br/>
        Payment successfully, redirecting back to app in <span id="counting">10</span>s ...

        <a href="https://integration-5ojmyuq-bn7eqktw2m3ye.ap-3.magentosite.cloud/order/status/0000000097" id="testUrl">Test Universal URL</a>
        <a href="eatizenmkp://order/status/0000000097" id="testUrl">Test URI schema</a>
    </div>
    <script>        
        const MAX_COUNTING = 5;
        let count = MAX_COUNTING;
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const orderId = urlParams.get('order_id');
        document.querySelector('#order').innerHTML = orderId;

        setInterval(() => {
            count--;
            document.querySelector('#counting').innerHTML = Math.max(count, 0);

            if(count === 0) {
                window.location.href = `eatizenmkp://order/status/0000000097`;
            }
        }, 1000);
    </script>
</body>
</html>
